# AI Poker Game

This is an AI-driven poker game using models from the **Ollama** API to control the decisions of AI poker players. Each AI player evaluates its hand and the community cards, making decisions like `fold`, `check`, `bet`, or `raise` using advanced language models.

## Features
- AI players make poker decisions using models from the **Ollama** API.
- Handles Texas Hold'em style poker rules.
- Supports multiple AI models for decision-making.
- Interactive graphical interface powered by **PyQt5**.
- Automatic validation of AI responses to ensure valid poker actions.
- Retry logic to handle invalid or verbose responses from AI.

## Prerequisites
- **Python 3.x**
- **Ollama** installed locally and running as a service ([Ollama documentation](https://ollama.com/)).
- **PyQt5** for graphical interface.
- **requests** library for handling API requests.

## Installation

1. **Clone the repository:**
    ```bash
    git clone https://github.com/your-username/AIPoker.git
    cd AIPoker
    ```

2. **Set up a virtual environment:**
    ```bash
    python -m venv venv
    source venv/bin/activate   # Linux/Mac
    .\venv\Scripts\activate    # Windows
    ```

3. **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

4. **Configure Ollama API:**
   Make sure you have the **Ollama** service running on your machine. You can verify this by running:
   ```bash
   curl http://localhost:11434/api/tags
   ```

   This should return the list of available AI models locally.

## Running the Game

Once your environment is set up and the **Ollama** service is running, you can start the game by running:

```bash
python main.py
```

This will launch the graphical interface of the poker game where you can watch the AI players make their moves.

## Game Flow

- Each AI player is dealt cards and makes pre-flop decisions based on the strength of their hand.
- The community cards are revealed in the standard poker phases (Flop, Turn, River), and the AI players continue making decisions.
- The decisions are generated by interacting with the **Ollama** API, where the model evaluates the hand and responds with an action (fold, check, bet, or raise).

## Project Structure

```
AIPoker/
│
├── gui.py                 # Handles the graphical interface using PyQt5
├── game.py                # Core game logic and rules for poker
├── player.py              # AI player logic and decision-making
├── ollama_integration.py  # Integration with Ollama API for AI model decisions
├── requirements.txt       # Python dependencies
└── README.md              # Project documentation
```

## AI Decision Making

- The **Ollama** API is used to get the AI players' decisions. The `ollama_integration.py` file contains functions to:
  - Get the list of available models.
  - Select a poker-compatible model.
  - Query the API with the current game state (player's hand and community cards) to get a decision.
  - Ensure valid actions (`fold`, `check`, `bet`, `raise`) and retry on invalid responses.

## Example Prompt to AI

For each AI player, the following type of prompt is sent to the AI model:

```
Player's hand: 10 of hearts, 9 of diamonds. 
Community cards: 2 of clubs, 5 of spades.
Respond with only one action: fold, check, bet, or raise. No explanation.
```

The AI model responds with one of these actions, which is then executed in the game.

## Contributing

If you'd like to contribute to this project:
1. Fork the repository.
2. Create a new feature branch (`git checkout -b feature-name`).
3. Commit your changes (`git commit -m 'Add some feature'`).
4. Push to the branch (`git push origin feature-name`).
5. Open a pull request.

## License

This project is licensed under the MIT License.